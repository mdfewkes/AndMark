<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
</head>
<style>
body {
    background-color: #000000;
}
.button {
    background-color: #4CAF50;
    border: none;
    color: white;
    padding: 15px 32px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    font-family: verdana;
    margin: 4px 2px;
    cursor: pointer;
}
p {
    color: white;
    text-align: center;
    font-family: verdana;
}
</style>
<body>
	<p><button class="button" id="B_UseIntern">Internal Clock</button><button class="button" id="B_UseReal">Realworld Clock</button>
	<p><button class="button" id="B_StartTime">Reset Time</button><button class="button" id="B_RestList">Reset List</button>
	<p><button class="button" id="B_Sec1">Cue 1</button><textarea id="T_Sec1" rows="1" cols="20">Cut Start</textarea>
	<p><button class="button" id="B_Sec2">Cue 2</button><textarea id="T_Sec2" rows="1" cols="20">Cut End</textarea>
	<p><button class="button" id="B_Sec3">Cue 3</button><textarea id="T_Sec3" rows="1" cols="20">Swear</textarea>
	<p><button class="button" id="B_Sec4">Cue 4</button><textarea id="T_Sec4" rows="1" cols="20">Other</textarea>
	<p>Last Cue
	<p id="monitor">
	<p>All Cues
	<p id="print">

<script>
	document.getElementById("B_UseReal").style.fontWeight = "bold";
	var startTime = Math.floor(Date.now() / 1000);
	var currentTime = Math.floor(Date.now() / 1000);
	var eventList = [];
	var usingRealtime = true;
	
	var internButton = document.getElementById("B_UseIntern");
	var externButton = document.getElementById("B_UseReal");
	var startButton = document.getElementById("B_StartTime");
	var resetButton = document.getElementById("B_RestList");

	var cue1Button = document.getElementById("B_Sec1");
	var cue2Button = document.getElementById("B_Sec2");
	var cue3Button = document.getElementById("B_Sec3");
	var cue4Button = document.getElementById("B_Sec4");

	internButton.addEventListener('click', function(){
		usingRealtime = false;
		document.getElementById("B_UseIntern").style.fontWeight = "bold";
		document.getElementById("B_UseReal").style.fontWeight = "normal";
	});
	externButton.addEventListener('click', function(){
		usingRealtime = true;
		document.getElementById("B_UseIntern").style.fontWeight = "normal";
		document.getElementById("B_UseReal").style.fontWeight = "bold";
	});
	startButton.addEventListener('click', function(){
		startTime = Math.floor(Date.now() / 1000);
	});
	resetButton.addEventListener('click', function(){
		eventList = [];
		document.getElementById("print").innerHTML = "";
		document.getElementById("monitor").innerHTML = "";
	});

	cue1Button.addEventListener('click', function(){addToCueList(document.getElementById("T_Sec1").value, 1);});
	cue2Button.addEventListener('click', function(){addToCueList(document.getElementById("T_Sec2").value, 2);});
	cue3Button.addEventListener('click', function(){addToCueList(document.getElementById("T_Sec3").value, 3);});
	cue4Button.addEventListener('click', function(){addToCueList(document.getElementById("T_Sec4").value, 4);});


	function timeToString() {
		var h = 0;
		var m = 0;
		var s = 0;
		if(usingRealtime) {
			currentTime = new Date();
			h = currentTime.getHours();
			m = currentTime.getMinutes();
			s = currentTime.getSeconds();
		} else {
			currentTime =  Math.floor(Date.now() / 1000);
			var diff = currentTime - startTime;
			h = Math.floor(diff / 3600);
			m = Math.floor(diff / 60);
			s = Math.floor(diff % 60);
		}
		h = checkTime(h);
		m = checkTime(m);
		s = checkTime(s);
		var stringer = "" + h + ":" + m + ":" + s;
		return stringer;
	}

	function addToCueList(cueName, cueNumber) {
		var addCue = "" + cueName + " " + timeToString() + "<br>";
		eventList.push([addCue, cueNumber]);
		var printList = "";
		for (i in eventList) {
			printList += eventList[i][0];
		}
		document.getElementById("print").innerHTML = printList;
		var monitorList = "";
		var length = eventList.length;
		if(length >= 1) {
			monitorList += eventList[length-1][0];
		}
		// if(length >= 2) {
		// 	monitorList += eventList[length-2][0];
		// }
		// if(length >= 3) {
		// 	monitorList += eventList[length-3][0];
		// }
		document.getElementById("monitor").innerHTML = monitorList;
	}

	function checkTime(i) {
		if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
		return i;
	}

</script>

</body>